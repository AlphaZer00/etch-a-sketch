<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Etch-a-Sketch</title>
    <script src="html2canvas.min.js"></script>
    <script>
        function saveImage() {
            html2canvas(document.getElementById("grid-container")).then(function (canvas) {
                canvas.style.display = "none";
                document.body.appendChild(canvas);
                return canvas;
            })
            .then(canvas => {
                const image = canvas.toDataURL("image/jpeg", 1);
                const a =document.createElement("a");
                a.setAttribute("download", "my-image.jpeg");
                a.setAttribute("href", image);
                a.click();
                canvas.remove();
            })
        }
    </script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="wrapper">
        <div class="device-body">
            <p class="title">Etch a Sketch</p>
            <div class="content-container">
                <div class="sidebar">   
                    <div class="button-container">
                        <div class="pen-color-container">
                            <input class="pen-color-input" type="color">
                            <p>Pen Color</p>
                        </div>
                        <div class="bg-color-container">
                            <input class="background-color-input" type="color" value="#ffffff" onchange="changeBackgroundColor();"></button>
                            <p>Background Color</p>
                        </div>
                        <button class="eraser">Eraser</button>
                        <button class="rainbow">Rainbow Mode</button>
                        <button class="clear">Clear</button>
                        <div class="grid-slider"></div>
                        <button class="save" onclick="saveImage()">Save</button>
                    </div>
                    
                    <div class="slider">
                        <input class="slide" type="range" min="4" max="64" value="16" />
                        <span class="slider-num">16</span>
                    </div>
                </div>
                <div id="grid-container" class="grid-container"></div>
            </div>
        </div>
    </div>
    <div class="footer"><a href="https://github.com/AlphaZer00">GitHub</a> </div>
</body>
<script src="main.js"></script>
</html>